---
title: "chapter4.Rmd"
author: "Sami Myllyniemi"
date: "20 marraskuuta 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=TRUE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
```{r}
library(MASS)
TES<-Boston
str(Boston)
summary(Boston)
```

```{r}
cor_matrix<-cor(Boston)
```

djäfjeifjei
```{r}
cor_matrix
```
dim(boston)
```{r}
dim(Boston)
```
Boston data has 506 rows and 14 columns
```{r}
pairs(Boston)
str(Boston)
summary(Boston)
```
```{r}
pairs(Boston)
```
```{r}
cor_matrix<-cor(Boston)
cor_matrix<-cor(Boston) %>% round(digits = 2)
cor_matrix
```

```{r}
corrplot(cor_matrix)
```

```{r}
cor(Boston)
cor_matrix<-cor(Boston)
```

```{r}
library(corrplot)
```

```{r}
boston_scaled <- scale
summary(boston_scaled)
boston_scaled <- as.data.frame(boston_scaled)
summary(boston_scaled)
summary(boston_scaled_$crim)

```
ask 2:

Boston data has 14 columns (variables) and 506 rows (cases)


Task 3:

Visualizations don't show up in my GitHub. (What do I do wrong?)


Task 4:

Standardization changes variables so that mean = 0 and sd is constant, so variables are easy to use in many statistical analyzis, such as LDA. 

Print of the quantile -function:

          0%          25%          50% 
-0.419366929 -0.410563278 -0.390280295 
         75%         100% 
 0.007389247  9.924109610 
 
 Table of the new factor crime:
 
 crime
     low  med_low med_high     high 
     127      126      126      127 

Number of rows in train set: 404

Task 5:

n <- nrow(boston_scaled)
n
ind <-sample(n, size = n * 0.8)
train <- boston_scaled[ind,]
test <- boston_scaled[-ind,]
nrow(test)
nrow(train)
lda.fit <- lda(crim ~ ., data = train)
lda.fit
plot(lda.fit, dim = 2) 

I can see graphics in R, but not in GitHub, where's the problem?

Task 6:

I didn't figure out how to: "Save the crime categories from the test set and then remove the categorical crime variable from the test dataset." Without that the cross tabulation didn't work.

lda.pred <- predict(lda.fit, newdata = test)
table(correct = correct_classes, predicted = lda.pred$class)

DataCamp cross tabulation has 73 correct prediction out of 94, which means about 78 percent.



Task 7:

The first step would have been "Reload the Boston dataset", but I couldn't do it.

Error in summary(Boston) : object 'Boston' not found

"

 
```{r}
crime <- cut(boston_scaled)
```
 
```{r}
lda.fit <- lda(crime ~ ., data = train)
lda.fit
```



```{r}

```

```{r}
summary(boston_scaled$crim)
```

```{r}

```

```{r}
Boston
boston_scaled <- scale (Boston)
summary (boston_scaled)
class(boston_scaled)
boston_scaled <- as.data.frame(boston_scaled)
summary(boston_scaled$crim)

```

```{r}
bins <- quantile(boston_scaled$crim)
bins
```

```{r}
crime <- cut(boston_scaled$crim, breaks = bins, include.lowest = TRUE, labels = c("low", "med_low", "med_high", "high" ) )
```
```{r}
table(crime)
```

```{r}
boston_scaled <- dplyr::select(boston_scaled, -crim)

```

```{r}
crime
```

```{r}
n <- nrow(boston_scaled)
n
ind <-sample(n, size = n * 0.8)
train <- boston_scaled[ind,]
test <- boston_scaled[-ind,]
nrow(test)
nrow(train)
lda.fit <- lda(crim ~ ., data = train)
lda.fit

{r lda.fit, echo=FALSE}
plot(lda.fit, dim = 2) 

```

```{r}

```

```{r}
predict(lda.fit, newdata = test)
lda.pred$class
table(correct = correct_classes, predicted = lda.pred$class)
```

```{r}
library(MASS)
TES<-Boston
str(Boston)
summary(Boston)
```

